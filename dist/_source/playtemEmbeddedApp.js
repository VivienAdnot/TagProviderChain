var playtemEmbedded={};playtemEmbedded.AppInstream=function(a){if(!a)throw"options must be defined";if("string"!=typeof a.apiKey)throw"apiKey must be a valid string";if("boolean"!=typeof a.hasReward)throw"hasReward must be a valid boolean";a.providers=a.providers||providers.rewarded[a.apiKey],playtemEmbedded.AppSettings=$.extend(playtemEmbedded.AppSettings,a),playtemEmbedded.AppSettings.hasReward===!0&&(playtemEmbedded.Core.globals.rewardManager=new playtemEmbedded.Reward({apiKey:playtemEmbedded.AppSettings.apiKey}),playtemEmbedded.Core.globals.rewardManager.clear())},playtemEmbedded.AppInstream.prototype={execute:function(){var a=this,b=new playtemEmbedded.TagProviders({appCallbacks:{onAdAvailable:a.onAdAvailable,onAllAdUnavailable:a.onAllAdUnavailable,onComplete:a.onComplete}});b.execute(),new playtemEmbedded.CloseImgWatcher,playtemEmbedded.Core.globals.windowBlocker=new playtemEmbedded.WindowBlocker,playtemEmbedded.Core.globals.debug=playtemEmbedded.AppSettings.debug},onAdAvailable:function(){window.parent.postMessage(playtemEmbedded.AppSettings.IframeManagerEvents.onAdAvailable,"*"),playtemEmbedded.Core.globals.windowBlocker.setBlocker()},onAllAdUnavailable:function(){window.parent.postMessage(playtemEmbedded.AppSettings.IframeManagerEvents.onAdUnavailable,"*")},onComplete:function(){1==playtemEmbedded.AppSettings.hasReward&&playtemEmbedded.Core.globals.rewardManager.execute($.noop),window.setTimeout(playtemEmbedded.Core.globals.windowBlocker.clearBlocker,1e3)}},playtemEmbedded.AppOutstream=function(a){if(!a)throw"options must be defined";if("string"!=typeof a.apiKey)throw"apiKey must be a valid string";if("boolean"!=typeof a.hasReward)throw"hasReward must be a valid boolean";a.providers=a.providers||providers.outstream[a.apiKey],playtemEmbedded.AppSettings=$.extend(playtemEmbedded.AppSettings,a),playtemEmbedded.AppSettings.hasReward===!0&&(playtemEmbedded.Core.globals.rewardManager=new playtemEmbedded.Reward({apiKey:playtemEmbedded.AppSettings.apiKey}),playtemEmbedded.Core.globals.rewardManager.clear())},playtemEmbedded.AppOutstream.prototype={execute:function(){var a=this,b=new playtemEmbedded.TagProviders({appCallbacks:{onAdAvailable:a.onAdAvailable,onAllAdUnavailable:a.onAllAdUnavailable,onComplete:a.onComplete}});b.execute(),new playtemEmbedded.CloseImgWatcher,playtemEmbedded.Core.globals.debug=playtemEmbedded.AppSettings.debug},onAdAvailable:function(){window.parent.postMessage(playtemEmbedded.AppSettings.IframeManagerEvents.onAdAvailable,"*"),1==playtemEmbedded.AppSettings.hasReward&&playtemEmbedded.Core.globals.rewardManager.execute($.noop)},onAllAdUnavailable:function(){window.parent.postMessage(playtemEmbedded.AppSettings.IframeManagerEvents.onAdUnavailable,"*")},onComplete:function(){window.parent.postMessage(playtemEmbedded.AppSettings.IframeManagerEvents.defaultEnd,"*")}},playtemEmbedded.AppSettings={placementTypes:{outstream:"outstream",rewarded:"rewarded"},providerTimeout:1e4,IframeManagerEvents:{onAdAvailable:"playtem:tagApp:adAvailable",onAdUnavailable:"playtem:tagApp:adUnavailable",defaultEnd:"playtem:tagApp:defaultEnd"},providerErrorTypes:{internal:"internalError",timeout:"Timeout",inVideo:"onAdError"},$closeImgElement:$(".js-closeAd"),vastProviderNames:["Actiplay","SmartadVastRewarded","CitroenOutstream","CitroenInstream"]},playtemEmbedded.Core={},playtemEmbedded.Core.Date={getCurrentTimestamp:function(){return $.now()},getUnixCurrentTimestampSeconds:function(){var a=new Date,b=function(){var b=a.getTime();return Math.floor(b/1e3)};return b()}},playtemEmbedded.Core.globals={},playtemEmbedded.Core.injectScript=function(a,b){$.getScript(a,b)},playtemEmbedded.Core.logError=function(a,b){var c="//ariane.playtem.com/Browser/Error",d=a+": ",e=d+b.toString();jQuery.post(c,{message:e})},playtemEmbedded.Core.logInfo=function(a,b){var c="//ariane.playtem.com/Browser/Event",d=a+": ",e=d+b.toString();jQuery.post(c,{message:e})},playtemEmbedded.Core.track=function(a){var b={providerName:void 0,apiKey:void 0,eventType:void 0,onDone:$.noop,onFail:$.noop,onAlways:$.noop},c=$.extend({},b,a);if(!c.providerName||!c.apiKey||!c.eventType)return playtemEmbedded.Core.logError("track","playtemEmbedded.Core.track missing option"),c.onFail(),void c.onAlways();var d=playtemEmbedded.Core.globals.debug===!0?"//poc.playtem.com/tracker.gif":"//api.playtem.com/tracker.gif",e=d+"?a="+c.eventType+"&c=&p="+c.providerName+"&k="+c.apiKey+"&t="+playtemEmbedded.Core.Date.getCurrentTimestamp();$.get(e).done(function(){c.onDone()}).fail(function(){playtemEmbedded.Core.logInfo("track","tracking failed."),c.onFail()}).always(function(){c.onAlways()})},playtemEmbedded.TagProviders=function(a){var b={appCallbacks:{}};this.settings={},$.extend(b,a),$.extend(this.settings,b)},playtemEmbedded.TagProviders.prototype.execute=function(){var a=this;a.fetchAdvert()},playtemEmbedded.TagProviders.prototype.fetchAdvert=function(){var a=this,b=0,c=function(b){var c=new b({onAdAvailable:a.settings.appCallbacks.onAdAvailable,onAdComplete:a.settings.appCallbacks.onComplete,onError:a.settings.appCallbacks.onComplete,onAdUnavailable:d});c.execute()},d=function(){b++,e()},e=function(){if(b>=playtemEmbedded.AppSettings.providers.length)return void a.settings.appCallbacks.onAllAdUnavailable();var d=playtemEmbedded.AppSettings.providers[b];c(d)};e()},playtemEmbedded.Affiz=function(a){var b={debug:!1,apiKey:void 0,onAdAvailable:$.noop,onAdUnavailable:$.noop,onAdComplete:$.noop};this.settings={providerName:"affiz",siteId:"315f315f32333439_8d31ea22dd",scriptUrl:"//cpm1.affiz.net/tracking/ads_video.php",clientId:"12345",$targetContainerElement:$(".ad"),modal:!0},playtemEmbedded.Core.globals.affizContext=void 0,$.extend(b,a),$.extend(this.settings,b),this.timeoutTimer=null},playtemEmbedded.Affiz.prototype.onAdAvailable=function(){var a=playtemEmbedded.Core.globals.affizContext;window.clearTimeout(a.timeoutTimer),playtemEmbedded.Core.track({providerName:a.settings.providerName,apiKey:playtemEmbedded.AppSettings.apiKey,eventType:"onAdAvailable",onAlways:a.settings.onAdAvailable})},playtemEmbedded.Affiz.prototype.onAdComplete=function(){var a=playtemEmbedded.Core.globals.affizContext;window.clearTimeout(a.timeoutTimer),playtemEmbedded.Core.track({providerName:a.settings.providerName,apiKey:playtemEmbedded.AppSettings.apiKey,eventType:"onAdComplete",onAlways:a.settings.onAdComplete})},playtemEmbedded.Affiz.prototype.onAdUnavailable=function(){var a=playtemEmbedded.Core.globals.affizContext;window.clearTimeout(a.timeoutTimer),playtemEmbedded.Core.track({providerName:a.settings.providerName,apiKey:playtemEmbedded.AppSettings.apiKey,eventType:"onAdUnavailable",onAlways:a.settings.onAdUnavailable})},playtemEmbedded.Affiz.prototype.onClose=function(){var a=playtemEmbedded.Core.globals.affizContext,b=function(){playtemEmbedded.AppSettings.$closeImgElement.click()};window.clearTimeout(a.timeoutTimer),playtemEmbedded.Core.track({providerName:a.settings.providerName,apiKey:playtemEmbedded.AppSettings.apiKey,eventType:"onAdClosed",onAlways:b})},playtemEmbedded.Affiz.prototype.onError=function(a){var b=this;a=a||playtemEmbedded.AppSettings.providerErrorTypes.internal,window.clearTimeout(b.timeoutTimer),playtemEmbedded.Core.track({providerName:b.settings.providerName,apiKey:playtemEmbedded.AppSettings.apiKey,eventType:a,onAlways:b.settings.onError})},playtemEmbedded.Affiz.prototype.execute=function(){var a=this,b=function(){try{AFFIZVIDEO.init({site_id:a.settings.siteId,clientid:a.settings.clientid,modal:a.settings.modal,load_callback:a.onAdAvailable,noads_callback:a.onAdUnavailable,complete_callback:a.onAdComplete,close_callback:a.onClose})}catch(b){a.onError(playtemEmbedded.AppSettings.providerErrorTypes.internal)}};window.avAsyncInit=function(){playtemEmbedded.Core.track({providerName:a.settings.providerName,apiKey:playtemEmbedded.AppSettings.apiKey,eventType:"requestSuccess",onAlways:b})},a.init(),a.timeoutTimer=window.setTimeout(function(){a.onAdAvailable=$.noop,a.onAdUnavailable=$.noop,a.onAdComplete=$.noop,a.onError(playtemEmbedded.AppSettings.providerErrorTypes.timeout)},playtemEmbedded.AppSettings.providerTimeout)},playtemEmbedded.Affiz.prototype.init=function(){var a=this;playtemEmbedded.Core.globals.affizContext=a;var b=function(){var a="<img id='playerImg' src='//static.playtem.com/tag/tagProviders/templates/img/player.png' />";$("body").append(a);var b=$("#playerImg");b.css({position:"absolute",top:"190px",left:"0",right:"0",margin:"auto",width:"500px",height:"300px",cursor:"pointer"}),b.one("click",function(){try{AFFIZVIDEO.show()}catch(a){}b.hide()})};b();var c=function(){playtemEmbedded.Core.injectScript(a.settings.scriptUrl,$.noop)};playtemEmbedded.Core.track({providerName:a.settings.providerName,apiKey:playtemEmbedded.AppSettings.apiKey,eventType:"request",onDone:c,onFail:a.settings.onAdUnavailable})},playtemEmbedded.RevContent=function(a){var b={onAdAvailable:$.noop,onAdUnavailable:$.noop,onAdComplete:$.noop};this.settings={providerName:"revContent",$targetContainerElement:$(".ad"),modal:!0,httpRequestTimeout:3e3},$.extend(b,a),$.extend(this.settings,b),this.timeoutTimer=null},playtemEmbedded.RevContent.prototype.onAdAvailable=function(){var a=this;window.clearTimeout(a.timeoutTimer),playtemEmbedded.Core.track({providerName:a.settings.providerName,apiKey:playtemEmbedded.AppSettings.apiKey,eventType:"onAdAvailable",onAlways:a.settings.onAdAvailable})},playtemEmbedded.RevContent.prototype.onAdUnavailable=function(){var a=this;window.clearTimeout(a.timeoutTimer),a.adFound===!0?a.onError():playtemEmbedded.Core.track({providerName:a.settings.providerName,apiKey:playtemEmbedded.AppSettings.apiKey,eventType:"onAdUnavailable",onAlways:a.settings.onAdUnavailable})},playtemEmbedded.RevContent.prototype.onError=function(a){var b=this;a=a||playtemEmbedded.AppSettings.providerErrorTypes.internal,window.clearTimeout(b.timeoutTimer),playtemEmbedded.Core.track({providerName:b.settings.providerName,apiKey:playtemEmbedded.AppSettings.apiKey,eventType:a,onAlways:b.settings.onError})},playtemEmbedded.RevContent.prototype.execute=function(){var a=this,b=function(){a.watchAdCreation(function(b){b?a.onAdAvailable():a.onAdUnavailable()})},c=function(){a.init(function(c){return c===!1?void a.onAdUnavailable():void playtemEmbedded.Core.track({providerName:a.settings.providerName,apiKey:playtemEmbedded.AppSettings.apiKey,eventType:"requestSuccess",onAlways:b})})};playtemEmbedded.Core.track({providerName:a.settings.providerName,apiKey:playtemEmbedded.AppSettings.apiKey,eventType:"request",onAlways:c}),a.timeoutTimer=window.setTimeout(function(){a.onAdAvailable=$.noop,a.onAdUnavailable=$.noop,a.onAdComplete=$.noop,a.onError(playtemEmbedded.AppSettings.providerErrorTypes.timeout)},playtemEmbedded.AppSettings.providerTimeout)},playtemEmbedded.RevContent.prototype.init=function(a){var b=this,c=function(a){b.settings.$targetContainerElement.append("<div id='revcontent'></div>"),$("#revcontent").css({position:"absolute",top:170,left:"0",right:"0",margin:"auto",width:400,"text-align":"center"})};c(),b.injectScriptCustom(function(b,c){a(b)})},playtemEmbedded.RevContent.prototype.injectScriptCustom=function(a){var b=function(){var a="";try{if(a=document.referrer,"undefined"==typeof a)throw"undefined"}catch(b){a=document.location.href,(""==a||"undefined"==typeof a)&&(a=document.URL)}return a=a.substr(0,700)},c=document.createElement("script");c.id="rc_"+Math.floor(1e3*Math.random()),c.type="text/javascript",c.src="//trends.revcontent.com/serve.js.php?w=50811&t="+c.id+"&c="+playtemEmbedded.Core.Date.getCurrentTimestamp()+"&width=400&referer="+b(),c.async=!0,c.onload=function(){a(!0)},c.onreadystatechange=function(){"complete"===this.readyState&&c.onload()},c.onerror=function(){a(!1)};var d=document.getElementById("revcontent");d.appendChild(c)},playtemEmbedded.RevContent.prototype.watchAdCreation=function(a){var b=this,c=null,d=window.setInterval(function(){var b=$("#revcontent"),e=1==b.length,f=b.height()>10;e&&f&&(window.clearTimeout(c),window.clearInterval(d),a(!0))},250);c=window.setTimeout(function(){window.clearInterval(d),a(!1)},b.settings.httpRequestTimeout)},playtemEmbedded.SmartadInternal=function(a){var b={providerName:void 0,formatId:void 0,onAdAvailable:$.noop,onAdUnavailable:$.noop,onError:$.noop};this.settings={scriptUrl:"//www8.smartadserver.com/config.js?nwid=1901",siteId:100394,pageName:"home",domain:"//www8.smartadserver.com",targetClass:"smartad",$targetContainerElement:$(".ad"),httpRequestTimeout:5e3,cssProperties:{position:"absolute",top:"179px",left:"125px",width:"500px",margin:"0 auto","text-align":"center"}},$.extend(b,a),$.extend(this.settings,b),this.timeoutTimer=null},playtemEmbedded.SmartadMixedContent=function(a){var b={onAdAvailable:$.noop,onAdUnavailable:$.noop,onError:$.noop};this.settings={formatId:42149},this.smartadInternal=null,$.extend(b,a),$.extend(this.settings,b)},playtemEmbedded.SmartadMixedContent.prototype.execute=function(){var a=this;a.smartadInternal=new playtemEmbedded.SmartadInternal({formatId:a.settings.formatId,providerName:"SmartadMixedContent",onAdAvailable:a.settings.onAdAvailable,onAdUnavailable:a.settings.onAdUnavailable,onError:a.settings.onError}),a.smartadInternal.execute()},playtemEmbedded.SmartadInternal.prototype.onAdAvailable=function(){var a=this;window.clearTimeout(a.timeoutTimer),playtemEmbedded.Core.track({providerName:a.settings.providerName,apiKey:playtemEmbedded.AppSettings.apiKey,eventType:"onAdAvailable",onAlways:a.settings.onAdAvailable})},playtemEmbedded.SmartadInternal.prototype.onAdUnavailable=function(){var a=this;window.clearTimeout(a.timeoutTimer),playtemEmbedded.Core.track({providerName:a.settings.providerName,apiKey:playtemEmbedded.AppSettings.apiKey,eventType:"onAdUnavailable",onAlways:a.settings.onAdUnavailable})},playtemEmbedded.SmartadInternal.prototype.onError=function(a){var b=this;a=a||playtemEmbedded.AppSettings.providerErrorTypes.internal,window.clearTimeout(b.timeoutTimer),playtemEmbedded.Core.track({providerName:b.settings.providerName,apiKey:playtemEmbedded.AppSettings.apiKey,eventType:a,onAlways:b.settings.onError})},playtemEmbedded.SmartadInternal.prototype.execute=function(a){var b=this,c=function(a){a&&a.hasAd===!0?b.onAdAvailable():b.onAdUnavailable()},d=function(){sas.setup({domain:b.settings.domain,async:!0,renderMode:0}),sas.call("onecall",{siteId:b.settings.siteId,pageName:b.settings.pageName,formatId:b.settings.formatId},{onLoad:function(a){c(a)}}),b.render()},e=function(){b.init(function(a){return a?void b.onAdUnavailable():void playtemEmbedded.Core.track({providerName:b.settings.providerName,apiKey:playtemEmbedded.AppSettings.apiKey,eventType:"requestSuccess",onAlways:d})})};playtemEmbedded.Core.track({providerName:b.settings.providerName,apiKey:playtemEmbedded.AppSettings.apiKey,eventType:"request",onAlways:e}),b.timeoutTimer=window.setTimeout(function(){b.onAdAvailable=$.noop,b.onAdUnavailable=$.noop,b.onAdComplete=$.noop,b.onError(playtemEmbedded.AppSettings.providerErrorTypes.timeout)},playtemEmbedded.AppSettings.providerTimeout)},playtemEmbedded.SmartadInternal.prototype.init=function(a){var b=this,c=function(){var a="<div class='"+b.settings.targetClass+"'></div>";b.settings.$targetContainerElement.append(a),$("."+b.settings.targetClass).css(b.settings.cssProperties)};c(),playtemEmbedded.Core.injectScript(b.settings.scriptUrl,function(b,c){a(b)})},playtemEmbedded.SmartadInternal.prototype.render=function(){var a=this,b="sas_"+a.settings.formatId;$("."+a.settings.targetClass).attr("id",b),sas.render(a.settings.formatId)},playtemEmbedded.SpotxInternal=function(a){var b={siteId:void 0,providerName:void 0,onAdAvailable:$.noop,onAdUnavailable:$.noop,onAdComplete:$.noop,onError:$.noop};this.settings={scriptUrl:"//search.spotxchange.com/js/spotx.js",scriptOptions:{spotx_channel_id:a.siteId,spotx_ad_unit:"incontent",spotx_ad_done_function:"spotXCallback",spotx_content_width:"500",spotx_content_height:"300",spotx_collapse:"0",spotx_ad_volume:"1",spotx_unmute_on_mouse:"0",spotx_autoplay:"1",spotx_ad_max_duration:"30",spotx_https:"1",spotx_content_container_id:"spotx"},$targetContainerElement:$(".ad"),cssProperties:{position:"absolute",top:"179px",left:"150px",width:"450px",margin:"0 auto","text-align":"center"}},this.executeCallback=void 0,this.timeouts={videoAvailability:{instance:null,duration:playtemEmbedded.AppSettings.providerTimeout}},this.poll=null,this.adFound=!1,$.extend(b,a),$.extend(this.settings,b)},playtemEmbedded.SpotxInternal.prototype.onAdAvailable=function(){var a=this;a.adFound=!0,playtemEmbedded.Core.track({providerName:a.settings.providerName,apiKey:playtemEmbedded.AppSettings.apiKey,eventType:"onAdAvailable",onAlways:a.settings.onAdAvailable})},playtemEmbedded.SpotxInternal.prototype.onAdComplete=function(){var a=this;playtemEmbedded.Core.track({providerName:a.settings.providerName,apiKey:playtemEmbedded.AppSettings.apiKey,eventType:"onAdComplete",onAlways:a.settings.onAdComplete})},playtemEmbedded.SpotxInternal.prototype.onAdUnavailable=function(){var a=this;a.adFound===!0?a.onError():playtemEmbedded.Core.track({providerName:a.settings.providerName,apiKey:playtemEmbedded.AppSettings.apiKey,eventType:"onAdUnavailable",onAlways:a.settings.onAdUnavailable})},playtemEmbedded.SpotxInternal.prototype.onError=function(a){var b=this;playtemEmbedded.Core.track({providerName:b.settings.providerName,apiKey:playtemEmbedded.AppSettings.apiKey,eventType:a,onAlways:b.settings.onError})},playtemEmbedded.SpotxInternal.prototype.execute=function(a){var b=this;window.spotXCallback=function(a){window.clearInterval(b.poll),window.clearTimeout(b.timeouts.videoAvailability.instance),a===!0?b.onAdComplete():b.onAdUnavailable()};var c=function(){b.watchVideoPlayerCreation(function(a){a?b.onAdAvailable():b.onAdUnavailable()})},d=function(){b.init(function(a,d){return a?void b.onAdUnavailable():void playtemEmbedded.Core.track({providerName:b.settings.providerName,apiKey:playtemEmbedded.AppSettings.apiKey,eventType:"requestSuccess",onAlways:c})})};playtemEmbedded.Core.track({providerName:b.settings.providerName,apiKey:playtemEmbedded.AppSettings.apiKey,eventType:"request",onAlways:d})},playtemEmbedded.SpotxInternal.prototype.init=function(a){var b=this,c=function(a){var c="<div class='playerWrapper'><div id='"+b.settings.scriptOptions.spotx_content_container_id+"'></div></div>";b.settings.$targetContainerElement.append(c),$(".playerWrapper").css(b.settings.cssProperties)};c(),b.injectScriptCustom(function(b,c){a(b)})},playtemEmbedded.SpotxInternal.prototype.injectScriptCustom=function(a){var b=this,c=document.createElement("script");c.async=!0,c.src=b.settings.scriptUrl;for(var d in b.settings.scriptOptions)b.settings.scriptOptions.hasOwnProperty(d)&&c.setAttribute("data-"+d,b.settings.scriptOptions[d]);c.onload=function(){a(null,"success")},c.onreadystatechange=function(){"complete"===this.readyState&&c.onload()},c.onerror=function(){a("error while loading script",null)};try{document.getElementsByTagName("body")[0].appendChild(c)}catch(e){a("body.appendChild exception: "+e,null)}},playtemEmbedded.SpotxInternal.prototype.watchVideoPlayerCreation=function(a){var b=this;b.poll=window.setInterval(function(){var c=$("#"+b.settings.scriptOptions.spotx_content_container_id),d=1==c.length,e=c.height()==b.settings.scriptOptions.spotx_content_height;d&&e&&(window.clearTimeout(b.timeouts.videoAvailability.instance),window.clearInterval(b.poll),a(!0))},250),b.timeouts.videoAvailability.instance=window.setTimeout(function(){window.clearInterval(b.poll),a(!1)},b.timeouts.videoAvailability.duration)},playtemEmbedded.SpotxInstream=function(a){this.siteId="147520";var b={onAdAvailable:$.noop,onAdUnavailable:$.noop,onAdComplete:$.noop,onError:$.noop};this.settings={},this.spotxInternal=null,$.extend(b,a),$.extend(this.settings,b)},playtemEmbedded.SpotxInstream.prototype.execute=function(){var a=this;a.spotxInternal=new playtemEmbedded.SpotxInternal({siteId:a.siteId,providerName:"SpotxInstream",onAdAvailable:a.settings.onAdAvailable,onAdUnavailable:a.settings.onAdUnavailable,onAdComplete:a.settings.onAdComplete,onError:a.settings.onError}),a.spotxInternal.execute()},playtemEmbedded.SpotxOutstream=function(a){this.siteId="146222";var b={debug:!1,onAdAvailable:$.noop,onAdUnavailable:$.noop,onAdComplete:$.noop,onError:$.noop};this.settings={},this.spotxInternal=null,$.extend(b,a),$.extend(this.settings,b)},playtemEmbedded.SpotxOutstream.prototype.execute=function(){var a=this;a.spotxInternal=new playtemEmbedded.SpotxInternal({siteId:a.siteId,providerName:"SpotxOutstream",onAdAvailable:a.settings.onAdAvailable,onAdUnavailable:a.settings.onAdUnavailable,onAdComplete:a.settings.onAdComplete,onError:a.settings.onError}),a.spotxInternal.execute()},playtemEmbedded.SpotxTest=function(a){this.siteId="85394";var b={debug:!1,apiKey:void 0,onAdAvailable:$.noop,onAdUnavailable:$.noop,onAdComplete:$.noop,onError:$.noop};this.settings={},this.spotxInternal=null,$.extend(b,a),$.extend(this.settings,b)},playtemEmbedded.SpotxTest.prototype.execute=function(){var a=this;a.spotxInternal=new playtemEmbedded.SpotxInternal({debug:a.settings.debug,siteId:a.siteId,apiKey:playtemEmbedded.AppSettings.apiKey,providerName:"Test",onAdAvailable:a.settings.onAdAvailable,onAdUnavailable:a.settings.onAdUnavailable,onAdComplete:a.settings.onAdComplete,onError:a.settings.onError}),a.spotxInternal.execute()},playtemEmbedded.PlaytemVastPlayer=function(a){var b={vastTag:void 0,providerName:void 0,onAdAvailable:$.noop,onAdUnavailable:$.noop,onAdComplete:$.noop,onError:$.noop,playerPosition:{top:179,width:500,height:300}};this.settings={playerId:"radiantVideoPlayer",scriptUrl:"//cdn.radiantmediatechs.com/rmp/v3/latest/js/rmp.min.js",$targetContainerElement:$(".ad")},this.playerPosition={position:"absolute",top:void 0,left:"0",right:"0",margin:"auto",width:void 0,height:void 0,"text-align":"center"},this.radiantMediaPlayerSettings={adTagUrl:void 0,width:void 0,height:void 0,licenseKey:void 0,ads:!0,adCountDown:!0,adUseWatermarkCountdownAndMessage:!0,delayToFade:0,bitrates:{mp4:[["Start","outstream"]]},flashFallBack:!1,autoplay:!0,adOutStream:!0,hideControls:!1,hideSeekBar:!0,hideFullscreen:!0,hideCentralPlayButton:!1},$.extend(b,a),$.extend(this.settings,b),this.adFound=!1,this.videoPlayer=null,this.videoPlayerElement=null,this.timeoutTimer=null;var c={"static.playtem.com":"Kl8lMDc9N3N5MmdjPTY3dmkyeWVpP3JvbTVkYXNpczMwZGIwQSVfKg==","poc.playtem.com":"Kl8lZ2V5MmdjPTY3dmkyeWVpP3JvbTVkYXNpczMwZGIwQSVfKg=="},d=document.location.hostname||"static.playtem.com";this.radiantMediaPlayerSettings.licenseKey=c[d],this.radiantMediaPlayerSettings.adTagUrl=this.settings.vastTag,this.radiantMediaPlayerSettings.width=this.settings.playerPosition.width,this.radiantMediaPlayerSettings.height=this.settings.playerPosition.height,this.playerPosition.top=this.settings.playerPosition.top+"px",this.playerPosition.width=this.settings.playerPosition.width+"px",this.playerPosition.height=this.settings.playerPosition.height+"px"},playtemEmbedded.PlaytemVastPlayer.prototype.onAdAvailable=function(a){var b=this;window.clearTimeout(b.timeoutTimer),playtemEmbedded.Core.track({providerName:a,apiKey:playtemEmbedded.AppSettings.apiKey,eventType:"onAdAvailable",onAlways:b.settings.onAdAvailable})},playtemEmbedded.PlaytemVastPlayer.prototype.onAdComplete=function(){var a=this;window.clearTimeout(a.timeoutTimer),a.clean(),playtemEmbedded.Core.track({providerName:a.settings.providerName,apiKey:playtemEmbedded.AppSettings.apiKey,eventType:"onAdComplete",onAlways:a.settings.onAdComplete})},playtemEmbedded.PlaytemVastPlayer.prototype.onAdUnavailable=function(){var a=this;window.clearTimeout(a.timeoutTimer),playtemEmbedded.Core.track({providerName:a.settings.providerName,apiKey:playtemEmbedded.AppSettings.apiKey,eventType:"onAdUnavailable",onAlways:a.settings.onAdUnavailable})},playtemEmbedded.PlaytemVastPlayer.prototype.onError=function(a){var b=this;a=a||playtemEmbedded.AppSettings.providerErrorTypes.internal,window.clearTimeout(b.timeoutTimer),b.clean(),playtemEmbedded.Core.track({providerName:b.settings.providerName,apiKey:playtemEmbedded.AppSettings.apiKey,eventType:a,onAlways:b.settings.onError})},playtemEmbedded.PlaytemVastPlayer.prototype.clean=function(){var a=this;$("#"+a.settings.playerId).remove()},playtemEmbedded.PlaytemVastPlayer.prototype.execute=function(){var a=this,b=function(a){var b=null;try{b=a.pop();var c=playtemEmbedded.AppSettings.vastProviderNames.indexOf(b)!=-1;if(!c)throw"providerName unknown: "+b.toString()}catch(d){playtemEmbedded.Core.logError("PlaytemVastPlayer","adWrapperAdSystems exception"+d),b=null}return b},c=function(){a.videoPlayerElement.addEventListener("adstarted",function(){a.adFound=!0;var c=b(a.videoPlayer.getAdWrapperAdSystems());c?a.onAdAvailable(c):a.onError()}),a.videoPlayerElement.addEventListener("aderror",function(){1==a.adFound?a.onError():a.onAdUnavailable()}),a.videoPlayerElement.addEventListener("adcomplete",function(){a.onAdComplete()}),a.videoPlayerElement.addEventListener("adskipped",function(){a.onAdComplete()}),a.videoPlayer.init(a.radiantMediaPlayerSettings)};a.init(function(b){return b?void a.settings.onAdUnavailable():"undefined"==typeof RadiantMP?void a.settings.onAdUnavailable():(a.videoPlayer=new RadiantMP(a.settings.playerId),a.videoPlayerElement=document.getElementById(a.settings.playerId),a.videoPlayer&&"function"==typeof a.videoPlayer.init&&"function"==typeof a.videoPlayer.getAdWrapperAdSystems?(playtemEmbedded.Core.track({providerName:a.settings.providerName,apiKey:playtemEmbedded.AppSettings.apiKey,eventType:"requestSuccess",onAlways:c}),void(a.timeoutTimer=window.setTimeout(function(){a.onAdAvailable=$.noop,a.onAdUnavailable=$.noop,a.onAdComplete=$.noop,a.onError(playtemEmbedded.AppSettings.providerErrorTypes.timeout)},playtemEmbedded.AppSettings.providerTimeout))):(playtemEmbedded.Core.logError("PlaytemVastPlayer","api method unavailable"),void a.settings.onAdUnavailable()))})},playtemEmbedded.PlaytemVastPlayer.prototype.init=function(a){var b=this,c=function(){var a="<div id='"+b.settings.playerId+"'></div>";b.settings.$targetContainerElement.append(a),$("#"+b.settings.playerId).css(b.playerPosition)},d=function(){playtemEmbedded.Core.injectScript(b.settings.scriptUrl,function(b,c){a(b)})};c(),playtemEmbedded.Core.track({providerName:b.settings.providerName,apiKey:playtemEmbedded.AppSettings.apiKey,eventType:"request",onAlways:d})},playtemEmbedded.PlaytemVastInstream=function(a){var b={onAdAvailable:$.noop,onAdUnavailable:$.noop,onAdComplete:$.noop,onError:$.noop};this.settings={},this.vastPlayer=void 0,$.extend(b,a),$.extend(this.settings,b),this.settings.debug===!0},playtemEmbedded.PlaytemVastInstream.prototype.execute=function(){var a=this,b=function(){return"//static.playtem.com/tag/tagProviders/vast/rewarded/playtem-vast-wrapper-instream.xml?"+playtemEmbedded.Core.Date.getCurrentTimestamp()};a.vastPlayer=new playtemEmbedded.PlaytemVastPlayer({vastTag:b(),providerName:"PlaytemVastInstream",onAdAvailable:a.settings.onAdAvailable,onAdUnavailable:a.settings.onAdUnavailable,onAdComplete:a.settings.onAdComplete,onError:a.settings.onError}),a.vastPlayer.execute()},playtemEmbedded.PlaytemVastOutstream=function(a){var b={onAdAvailable:$.noop,onAdUnavailable:$.noop,onAdComplete:$.noop,onError:$.noop};this.settings={},this.vastPlayer=void 0,$.extend(b,a),$.extend(this.settings,b),this.settings.debug===!0},playtemEmbedded.PlaytemVastOutstream.prototype.execute=function(){var a=this,b=function(){return"//static.playtem.com/tag/tagProviders/vast/outstream/playtem-vast-wrapper-outstream.xml?"+playtemEmbedded.Core.Date.getCurrentTimestamp()};a.vastPlayer=new playtemEmbedded.PlaytemVastPlayer({vastTag:b(),providerName:"PlaytemVastOutstream",onAdAvailable:a.settings.onAdAvailable,onAdUnavailable:a.settings.onAdUnavailable,onAdComplete:a.settings.onAdComplete,onError:a.settings.onError}),a.vastPlayer.execute()},playtemEmbedded.PlaytemVastTest=function(a){var b={debug:!1,apiKey:void 0,onAdAvailable:$.noop,onAdUnavailable:$.noop,onAdComplete:$.noop,onAdError:$.noop};this.settings={},this.vastPlayer=void 0,this.defaults=$.extend(b,a),this.settings=$.extend(this.settings,b),this.settings.debug===!0},playtemEmbedded.PlaytemVastTest.prototype.execute=function(){var a=this,b=function(){return"//static.playtem.com/tag/tagProviders/vast/test/head.xml?"+playtemEmbedded.Core.Date.getCurrentTimestamp()};a.vastPlayer=new playtemEmbedded.PlaytemVastPlayer({debug:a.settings.debug,vastTag:b(),apiKey:playtemEmbedded.AppSettings.apiKey,providerName:"Test",onAdAvailable:a.settings.onAdAvailable,onAdUnavailable:a.settings.onAdUnavailable,onAdComplete:a.settings.onAdComplete,onAdError:a.settings.onAdError}),a.vastPlayer.execute()},playtemEmbedded.CloseImgWatcher=function(){var a=this;this.settings={sendEvents:{closeWindow:"closeAdWindow"}},this.watchClick=function(){playtemEmbedded.AppSettings.$closeImgElement.click(function(){window.parent.postMessage(a.settings.sendEvents.closeWindow,"*")})},this.watchClick()},playtemEmbedded.Reward=function(a){var b={apiKey:void 0};this.settings={scriptUrl:"//api.playtem.com/advertising/services.reward/",sendEvents:{userId:"playtem:tagApp:userId"}},this.userId=null,this.executeCallback=null,$.extend(b,a),$.extend(this.settings,b)},playtemEmbedded.Reward.prototype.clear=function(){var a=function(){$("#rewardImageUri").css("visibility","hidden"),$("#rewardName").css("visibility","hidden"),$(".ad__reward__offerMessage__brandName").css("visibility","hidden"),$("#js-rewardOfferingMessage").css("visibility","hidden")};a()},playtemEmbedded.Reward.prototype.execute=function(a){var b=this;b.init(a,function(a,c){null==a&&(window.addEventListener("message",b.userIdMessageHandler,!1),window.parent.postMessage(b.settings.sendEvents.userId,"*"))})},playtemEmbedded.Reward.prototype.getReward=function(a){var b=this,c=function(a,b){$("#rewardImageUri").attr("src",b),$("#rewardImageUri").css("visibility","visible"),$("#rewardName").text(a),$("#rewardName").css("visibility","visible");var c=$(".ad__reward__offerMessage__brandName").text();c=""!=c?c:"Our partner",$(".ad__reward__offerMessage__brandName").text(c),$(".ad__reward__offerMessage__brandName").css("visibility","visible");var d=$("#js-rewardOfferingMessage").text();d=""!=d?d:"offers you",$("#js-rewardOfferingMessage").text(d),$("#js-rewardOfferingMessage").css("visibility","visible")},d=function(b){try{if(0!==b.StatusCode)throw"no gift available: "+b.StatusCode+", "+b.StatusMessage;var d=b.Response,e=d.Image;if(!e)throw"no reward image";var f=d.Name.Default;if(!f)throw"no default Language";var g=d.Name[f];if(!g)throw"no reward Name";c(g,e),a(null,"success")}catch(h){var i="reward parse response error: "+h;playtemEmbedded.Core.logError("reward parser",i),a(i,null)}};$.ajax({url:b.settings.scriptUrl,data:{apiKey:playtemEmbedded.AppSettings.apiKey,userId:b.userId,timestamp:playtemEmbedded.Core.Date.getUnixCurrentTimestampSeconds()},success:d,error:function(b,c,d){var e="reward ajax error: "+d;playtemEmbedded.Core.logError("reward fetch",e),a(e,null)}})},playtemEmbedded.Reward.prototype.init=function(a,b){var c=this;return playtemEmbedded.AppSettings.apiKey?(c.executeCallback=a,playtemEmbedded.Core.globals.playtemRewardContext=c,void b(null,"success")):void b("window.apiKey undefined",null)},playtemEmbedded.Reward.prototype.userIdMessageHandler=function(a){var b=playtemEmbedded.Core.globals.playtemRewardContext,c="playtem:js:";try{var d=a.data;0==d.indexOf(c)&&(b.userId=d.substring(c.length),b.getReward(b.executeCallback),window.removeEventListener("message",b.userIdMessageHandler,!1))}catch(e){return}},playtemEmbedded.WindowBlocker=function(){},playtemEmbedded.WindowBlocker.prototype={setBlocker:function(){playtemEmbedded.AppSettings.$closeImgElement.hide()},clearBlocker:function(){playtemEmbedded.AppSettings.$closeImgElement.fadeIn(500)}};